{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<div class="dashboard">
    <h2 style="color:#2357bc;">{{ t[lang]['welcome'] }}, {{ username }}!</h2>
    <div class="card">
        <div style="display:flex; justify-content:space-between;">
            <span>{{ t[lang]['level'] }}</span>
            <span style="font-weight:bold; color:#2357bc;">{{ t[lang]['level_text'] }} {{ level }}</span>
        </div>
        <div style="display:flex; align-items:center; margin-top:10px;">
            <div class="progress-bar-bg" style="width:100%; margin-right:15px;">
                <div class="progress-bar" style="width:{{ progress }}%;"></div>
            </div>
            <span style="font-weight:bold; color:#245cf1;">{{ xp }} XP</span>
        </div>
        <p style="color:#888; font-size:0.9em;">{{ 100 - progress }} {{ t[lang]['next_level'] }} {{ level + 1 }}!</p>
    </div>

    <div class="cards-container">
        <div class="card card-blue">
            <h3>{{ t[lang]['daily_challenge'] }}</h3>
            <p>{{ t[lang]['math_desc'] }}</p>
            <a href="{{ url_for('start_subject', subject_name='Mathematics') }}">
                <button style="background:white; color:#245cf1; padding:10px 20px; border-radius:8px; font-weight:bold;">{{ t[lang]['start_math'] }}</button>
            </a>
        </div>
        <div class="card">
            <h3>{{ t[lang]['choose_subject'] }}</h3>
            <p>{{ t[lang]['browse_subjects'] }}</p>
            <a href="{{ url_for('index') }}"><button style="background:#2357bc; color:white; padding:10px 20px; border-radius:8px;">{{ t[lang]['select'] }}</button></a>
        </div>
        <div class="card">
            <h3>{{ t[lang]['history'] }}</h3>
            <p>{{ t[lang]['history_desc'] }}</p>
            <a href="{{ url_for('history') }}">
                <button style="background:#edf2fb; color:#3354ab; padding:8px 16px; border-radius:8px; margin-top:10px; font-weight:bold;">View History</button>
            </a>
        </div>
        <div class="card">
            <h3>{{ t[lang]['streak'] }}</h3>
            <p style="font-size:1.5em; font-weight:bold; color:#4caf50;">7 {{ t[lang]['days'] }}!</p>
        </div>
    </div>
</div>
{% endblock %}